{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"page-wrapper\"\n};\nconst _hoisted_2 = {\n  class: \"content\"\n};\nconst _hoisted_3 = {\n  class: \"card table-list-card\"\n};\nconst _hoisted_4 = {\n  class: \"card-body\"\n};\nconst _hoisted_5 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_6 = {\n  key: 1,\n  class: \"table datanew\",\n  id: \"transaction-table\"\n};\nconst _hoisted_7 = {\n  class: \"sales-list\"\n};\nconst _hoisted_8 = {\n  key: 0\n};\nconst _hoisted_9 = {\n  class: \"text-start\"\n};\nconst _hoisted_10 = {\n  class: \"text-center\"\n};\nconst _hoisted_11 = {\n  class: \"text-start\"\n};\nconst _hoisted_12 = {\n  class: \"badge badge-linesuccess\"\n};\nconst _hoisted_13 = {\n  class: \"text-center\"\n};\nconst _hoisted_14 = {\n  class: \"action-set\",\n  href: \"javascript:void(0);\",\n  \"data-bs-toggle\": \"dropdown\",\n  \"aria-expanded\": \"false\"\n};\nconst _hoisted_15 = {\n  class: \"dropdown-menu\"\n};\nconst _hoisted_16 = [\"onClick\"];\nconst _hoisted_17 = [\"onClick\"];\nconst _hoisted_18 = {\n  class: \"modal fade\",\n  id: \"sales-details-new\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"salesDetailsModal\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_19 = {\n  class: \"modal-dialog modal-lg\"\n};\nconst _hoisted_20 = {\n  class: \"modal-content\"\n};\nconst _hoisted_21 = {\n  class: \"modal-body\"\n};\nconst _hoisted_22 = {\n  class: \"mb-3\"\n};\nconst _hoisted_23 = {\n  class: \"mb-2\"\n};\nconst _hoisted_24 = {\n  class: \"mb-2\"\n};\nconst _hoisted_25 = {\n  class: \"mb-2\"\n};\nconst _hoisted_26 = {\n  class: \"mb-2\"\n};\nconst _hoisted_27 = {\n  class: \"mb-2\"\n};\nconst _hoisted_28 = {\n  class: \"mb-2\"\n};\nconst _hoisted_29 = {\n  class: \"mb-2\"\n};\nconst _hoisted_30 = {\n  class: \"table table-bordered\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Navbar = _resolveComponent(\"Navbar\");\n  const _component_Sidebar = _resolveComponent(\"Sidebar\");\n  const _component_ClipLoader = _resolveComponent(\"ClipLoader\");\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Navbar), _createVNode(_component_Sidebar), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n    class: \"page-header\"\n  }, [_createElementVNode(\"div\", {\n    class: \"add-item d-flex\"\n  }, [_createElementVNode(\"div\", {\n    class: \"page-title\"\n  }, [_createElementVNode(\"h4\", null, \"Transaction List\"), _createElementVNode(\"h6\", null, \"Manage Your Transaction\")])])], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [$setup.loading ? (_openBlock(), _createBlock(_component_ClipLoader, {\n    key: 0\n  })) : (_openBlock(), _createElementBlock(\"table\", _hoisted_6, [_cache[6] || (_cache[6] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Customer\"), _createElementVNode(\"th\", {\n    class: \"text-start\"\n  }, \"Reference\"), _createElementVNode(\"th\", null, \"Date\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", {\n    class: \"text-start\"\n  }, \"Total\"), _createElementVNode(\"th\", null, \"Payment Method\"), _createElementVNode(\"th\", null, \"Biller\"), _createElementVNode(\"th\", {\n    class: \"text-center\"\n  }, \"Action\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", _hoisted_7, [$setup.transactions.length <= 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_8, _cache[0] || (_cache[0] = [_createElementVNode(\"td\", {\n    colspan: \"8\"\n  }, \"No products available\", -1 /* HOISTED */)]))) : (_openBlock(true), _createElementBlock(_Fragment, {\n    key: 1\n  }, _renderList($setup.transactions, trans => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: trans.id\n    }, [_cache[5] || (_cache[5] = _createElementVNode(\"td\", null, \"Walk in\", -1 /* HOISTED */)), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(trans.transactionId), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(_ctx.$formatDate(trans.createdAt)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_10, [_createElementVNode(\"span\", {\n      class: _normalizeClass({\n        'badge': true,\n        ' badge-bgsuccess': trans.status === 'Completed',\n        ' badge-bgdanger': trans.status === 'Voided',\n        ' badge-bgprimary': trans.status === 'Returned'\n      })\n    }, _toDisplayString(trans.status), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", _hoisted_11, _toDisplayString(trans.totalAmount), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", _hoisted_12, _toDisplayString(trans.paymentMethod), 1 /* TEXT */)]), _createElementVNode(\"td\", null, _toDisplayString(trans.employee), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_13, [_createElementVNode(\"a\", _hoisted_14, [_createVNode(_component_font_awesome_icon, {\n      icon: \"fa fa-ellipsis-v\",\n      \"aria-hidden\": \"true\",\n      class: \"feather-eye\"\n    })]), _createElementVNode(\"ul\", _hoisted_15, [_createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n      href: \"javascript:void(0);\",\n      class: \"dropdown-item\",\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": \"#sales-details-new\",\n      onClick: $event => $setup.showSaleDetail(trans.transactionId)\n    }, [...(_cache[1] || (_cache[1] = [_createElementVNode(\"i\", {\n      \"data-feather\": \"eye\",\n      class: \"info-img\"\n    }, null, -1 /* HOISTED */), _createTextVNode(\" Sale Detail \")]))], 8 /* PROPS */, _hoisted_16)]), _cache[3] || (_cache[3] = _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n      href: \"javascript:void(0);\",\n      class: \"dropdown-item\",\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": \"#edit-sales-new\"\n    }, [_createElementVNode(\"i\", {\n      \"data-feather\": \"edit\",\n      class: \"info-img\"\n    }), _createTextVNode(\" Edit Sale \")])], -1 /* HOISTED */)), _cache[4] || (_cache[4] = _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n      href: \"javascript:void(0);\",\n      class: \"dropdown-item\"\n    }, [_createElementVNode(\"i\", {\n      \"data-feather\": \"download\",\n      class: \"info-img\"\n    }), _createTextVNode(\" Download PDF \")])], -1 /* HOISTED */)), _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n      href: \"javascript:void(0);\",\n      class: \"dropdown-item confirm-text mb-0\",\n      onClick: $event => $setup.deleteTransaction(trans.transactionId)\n    }, [...(_cache[2] || (_cache[2] = [_createElementVNode(\"i\", {\n      \"data-feather\": \"trash-2\",\n      class: \"info-img\"\n    }, null, -1 /* HOISTED */), _createTextVNode(\" Delete Sale \")]))], 8 /* PROPS */, _hoisted_17)])])])]);\n  }), 128 /* KEYED_FRAGMENT */))])]))])])])])]), _createCommentVNode(\" Sale Detail Modal \"), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [_cache[18] || (_cache[18] = _createElementVNode(\"div\", {\n    class: \"modal-header\"\n  }, [_createElementVNode(\"h5\", {\n    class: \"modal-title\",\n    id: \"salesDetailsModal\"\n  }, \"Sale Detail\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close\",\n    \"data-bs-dismiss\": \"modal\",\n    \"aria-label\": \"Close\"\n  })], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_21, [_createCommentVNode(\" Transaction Information \"), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"h6\", _hoisted_23, [_cache[8] || (_cache[8] = _createElementVNode(\"strong\", null, \"Transaction ID:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.selectedTransaction.transactionId), 1 /* TEXT */)]), _createElementVNode(\"h6\", _hoisted_24, [_cache[9] || (_cache[9] = _createElementVNode(\"strong\", null, \"Cashier:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.selectedTransaction.employee), 1 /* TEXT */)]), _createElementVNode(\"h6\", _hoisted_25, [_cache[10] || (_cache[10] = _createElementVNode(\"strong\", null, \"Customer:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.selectedTransaction.customer), 1 /* TEXT */)]), _createElementVNode(\"h6\", _hoisted_26, [_cache[11] || (_cache[11] = _createElementVNode(\"strong\", null, \"Status:\", -1 /* HOISTED */)), _cache[12] || (_cache[12] = _createTextVNode()), _createElementVNode(\"span\", {\n    class: _normalizeClass($setup.getStatusClass($setup.selectedTransaction.status))\n  }, _toDisplayString($setup.selectedTransaction.status), 3 /* TEXT, CLASS */)]), _createElementVNode(\"h6\", _hoisted_27, [_cache[13] || (_cache[13] = _createElementVNode(\"strong\", null, \"Date:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.selectedTransaction.createdAt), 1 /* TEXT */)]), _createElementVNode(\"h6\", _hoisted_28, [_cache[14] || (_cache[14] = _createElementVNode(\"strong\", null, \"Total Amount:\", -1 /* HOISTED */)), _createTextVNode(\" $\" + _toDisplayString($setup.selectedTransaction.totalAmount), 1 /* TEXT */)]), _createElementVNode(\"h6\", _hoisted_29, [_cache[15] || (_cache[15] = _createElementVNode(\"strong\", null, \"Payment Method:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.selectedTransaction.paymentMethod), 1 /* TEXT */)])]), _createCommentVNode(\" Products Table \"), _cache[17] || (_cache[17] = _createElementVNode(\"h6\", null, [_createElementVNode(\"strong\", null, \"Purchased Products\")], -1 /* HOISTED */)), _createElementVNode(\"table\", _hoisted_30, [_cache[16] || (_cache[16] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Product Name\"), _createElementVNode(\"th\", null, \"SKU\"), _createElementVNode(\"th\", null, \"Quantity\"), _createElementVNode(\"th\", null, \"Price\"), _createElementVNode(\"th\", null, \"Total\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.selectedTransaction.products, product => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: product._id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(product.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(product.sku), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(product.quantity), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(product.price), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(product.quantity * product.price), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _cache[19] || (_cache[19] = _createElementVNode(\"div\", {\n    class: \"modal-footer\"\n  }, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary\",\n    \"data-bs-dismiss\": \"modal\"\n  }, \"Close\")], -1 /* HOISTED */))])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","key","id","href","tabindex","_createElementBlock","_Fragment","_createVNode","_component_Navbar","_component_Sidebar","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","$setup","loading","_createBlock","_component_ClipLoader","_hoisted_6","_hoisted_7","transactions","length","_hoisted_8","_cache","colspan","_renderList","trans","_hoisted_9","_toDisplayString","transactionId","_ctx","$formatDate","createdAt","_hoisted_10","_normalizeClass","status","_hoisted_11","totalAmount","_hoisted_12","paymentMethod","employee","_hoisted_13","_hoisted_14","_component_font_awesome_icon","icon","_hoisted_15","onClick","$event","showSaleDetail","_createTextVNode","_hoisted_16","deleteTransaction","_hoisted_17","_createCommentVNode","_hoisted_18","_hoisted_19","_hoisted_20","type","_hoisted_21","_hoisted_22","_hoisted_23","selectedTransaction","_hoisted_24","_hoisted_25","customer","_hoisted_26","getStatusClass","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","products","product","_id","name","sku","quantity","price"],"sources":["C:\\Users\\Administrator\\OneDrive\\Desktop\\POSExpress\\frontend\\src\\components\\Admin\\Sales\\Transactions.vue"],"sourcesContent":["<template>\r\n  <Navbar />\r\n  <Sidebar />\r\n  <div class=\"page-wrapper\">\r\n    <div class=\"content\">\r\n      <div class=\"page-header\">\r\n        <div class=\"add-item d-flex\">\r\n          <div class=\"page-title\">\r\n            <h4>Transaction List</h4>\r\n            <h6>Manage Your Transaction</h6>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"card table-list-card\">\r\n        <div class=\"card-body\">\r\n\r\n\r\n          <div class=\"table-responsive\">\r\n            <ClipLoader v-if=\"loading\" />\r\n            <table v-else class=\"table datanew\" id=\"transaction-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Customer</th>\r\n                  <th class=\"text-start\">Reference</th>\r\n                  <th>Date</th>\r\n                  <th>Status</th>\r\n                  <th class=\"text-start\">Total</th>\r\n                  <th>Payment Method</th>\r\n                  <th>Biller</th>\r\n                  <th class=\"text-center\">Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"sales-list\">\r\n                <tr v-if=\"transactions.length <= 0\">\r\n                  <td colspan=\"8\">No products available</td>\r\n                </tr>\r\n                <tr v-else v-for=\"trans in transactions\" :key=\"trans.id\">\r\n                  <td>Walk in</td>\r\n                  <td class=\"text-start\">{{ trans.transactionId }}</td>\r\n                  <td>{{ $formatDate(trans.createdAt) }}</td>\r\n\r\n                  <td class=\"text-center\">\r\n                    <span :class=\"{\r\n                      'badge': true,\r\n                      ' badge-bgsuccess': trans.status === 'Completed',\r\n                      ' badge-bgdanger': trans.status === 'Voided',\r\n                      ' badge-bgprimary': trans.status === 'Returned'\r\n                    }\">\r\n                      {{ trans.status }}\r\n                    </span>\r\n                  </td>\r\n                  <td class=\"text-start\">{{ trans.totalAmount }}</td>\r\n                  <td><span class=\"badge badge-linesuccess\">{{ trans.paymentMethod }}</span></td>\r\n                  <td>{{ trans.employee }}</td>\r\n                  <td class=\"text-center\">\r\n                    <a class=\"action-set\" href=\"javascript:void(0);\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                      <font-awesome-icon icon=\"fa fa-ellipsis-v\" aria-hidden=\"true\" class=\"feather-eye\" />\r\n                    </a>\r\n                    <ul class=\"dropdown-menu\">\r\n                      <li>\r\n                        <a href=\"javascript:void(0);\" class=\"dropdown-item\" data-bs-toggle=\"modal\"\r\n                          data-bs-target=\"#sales-details-new\" @click=\"showSaleDetail(trans.transactionId)\">\r\n                          <i data-feather=\"eye\" class=\"info-img\"></i> Sale Detail\r\n                        </a>\r\n                      </li>\r\n                      <li>\r\n                        <a href=\"javascript:void(0);\" class=\"dropdown-item\" data-bs-toggle=\"modal\"\r\n                          data-bs-target=\"#edit-sales-new\">\r\n                          <i data-feather=\"edit\" class=\"info-img\"></i> Edit Sale\r\n                        </a>\r\n                      </li>\r\n                      <li>\r\n                        <a href=\"javascript:void(0);\" class=\"dropdown-item\">\r\n                          <i data-feather=\"download\" class=\"info-img\"></i> Download PDF\r\n                        </a>\r\n                      </li>\r\n                      <li>\r\n                        <a href=\"javascript:void(0);\" class=\"dropdown-item confirm-text mb-0\"\r\n                          @click=\"deleteTransaction(trans.transactionId)\">\r\n                          <i data-feather=\"trash-2\" class=\"info-img\"></i> Delete Sale\r\n                        </a>\r\n                      </li>\r\n                    </ul>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Sale Detail Modal -->\r\n  <div class=\"modal fade\" id=\"sales-details-new\" tabindex=\"-1\" aria-labelledby=\"salesDetailsModal\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"salesDetailsModal\">Sale Detail</h5>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <!-- Transaction Information -->\r\n          <div class=\"mb-3\">\r\n            <h6 class=\"mb-2\"><strong>Transaction ID:</strong> {{ selectedTransaction.transactionId }}</h6>\r\n            <h6 class=\"mb-2\"><strong>Cashier:</strong> {{ selectedTransaction.employee }}</h6>\r\n            <h6 class=\"mb-2\"><strong>Customer:</strong> {{ selectedTransaction.customer }}</h6>\r\n            <h6 class=\"mb-2\"><strong>Status:</strong> <span :class=\"getStatusClass(selectedTransaction.status)\">{{\r\n                selectedTransaction.status }}</span></h6>\r\n            <h6 class=\"mb-2\"><strong>Date:</strong> {{ selectedTransaction.createdAt }}</h6>\r\n            <h6 class=\"mb-2\"><strong>Total Amount:</strong> ${{ selectedTransaction.totalAmount }}</h6>\r\n            <h6 class=\"mb-2\"><strong>Payment Method:</strong> {{ selectedTransaction.paymentMethod }}</h6>\r\n          </div>\r\n\r\n          <!-- Products Table -->\r\n          <h6><strong>Purchased Products</strong></h6>\r\n          <table class=\"table table-bordered\">\r\n            <thead>\r\n              <tr>\r\n                <th>Product Name</th>\r\n                <th>SKU</th>\r\n                <th>Quantity</th>\r\n                <th>Price</th>\r\n                <th>Total</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"product in selectedTransaction.products\" :key=\"product._id\">\r\n                <td>{{ product.name }}</td>\r\n                <td>{{ product.sku }}</td>\r\n                <td>{{ product.quantity }}</td>\r\n                <td>{{ product.price }}</td>\r\n                <td>{{ product.quantity * product.price }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport { ref, onMounted, onBeforeMount, nextTick } from 'vue';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport Navbar from '/src/components/Admin/Navbar.vue';\r\nimport ClipLoader from 'vue-spinner/src/ClipLoader.vue';\r\nimport feather from 'feather-icons'\r\nimport $ from 'jquery';\r\n\r\n\r\n\r\nexport default {\r\n  components: {\r\n    ClipLoader,\r\n    Navbar,\r\n  },\r\n  setup() {\r\n    const apiURL = process.env.VUE_APP_URL;\r\n    const loading = ref(true);\r\n    const transactions = ref([]);\r\n\r\n    const selectedTransaction = ref({\r\n      transactionId: '',\r\n      customer: '',\r\n      status: '',\r\n      createdAt: '',\r\n      totalAmount: 0,\r\n      paymentMethod: '',\r\n      employee: '',\r\n      products: []\r\n    });\r\n    const initializeDataTable = () => {\r\n      const tableElement = $('#transaction-table');\r\n\r\n      if ($.fn.DataTable.isDataTable(tableElement)) {\r\n        tableElement.DataTable().destroy();\r\n      }\r\n\r\n      tableElement.DataTable({\r\n        searching: true,\r\n        paging: true,\r\n        info: true,\r\n        responsive: true,\r\n      });\r\n    };\r\n\r\n    const refreshDataTable = () => {\r\n      const table = $('#transaction-table').DataTable();\r\n      table.destroy();\r\n      initializeDataTable();\r\n    };\r\n\r\n    const getTransactions = async () => {\r\n      loading.value = true;\r\n      try {\r\n        const reponse = await axios.get(`${apiURL}/get_all_transactions`);\r\n        if (reponse.data.success) {\r\n          transactions.value = reponse.data.transactions\r\n        } else {\r\n          Swal.fire('Eror', 'Failed to get all transaction', 'error');\r\n        }\r\n        nextTick(() => refreshDataTable());\r\n      } catch (error) {\r\n        Swal.fire('Eror', 'Something went wrong', 'error');\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    }\r\n\r\n    // Get transaction details by ID\r\n    const getTransactionDetails = async (transactionId) => {\r\n      loading.value = true;\r\n      try {\r\n        const response = await axios.get(`${apiURL}/get_transaction_details/${transactionId}`);\r\n        if (response.data.success) {\r\n          selectedTransaction.value = response.data.transaction;\r\n          console.log(selectedTransaction.value);\r\n        } else {\r\n          Swal.fire('Error', 'Failed to get transaction details', 'error');\r\n        }\r\n      } catch (error) {\r\n        Swal.fire('Error', 'Something went wrong', 'error');\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n\r\n    // Get status badge class\r\n    const getStatusClass = (status) => {\r\n      switch (status) {\r\n        case 'Completed':\r\n          return 'text-success';\r\n        case 'Voided':\r\n          return 'text-danger';\r\n        case 'Returned':\r\n          return 'text-info';\r\n        default:\r\n          return '';\r\n      }\r\n    };\r\n\r\n    onMounted(async () => {\r\n      try {\r\n        await nextTick()\r\n        await getTransactions();\r\n        initializeDataTable();\r\n        await feather.replace();\r\n\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n\r\n    onBeforeMount(() => {\r\n\r\n    });\r\n\r\n    const showSaleDetail = async (transactionId) => {\r\n      await getTransactionDetails(transactionId);\r\n    };\r\n    const deleteTransaction = async (transactionId) => {\r\n      // Show a confirmation alert using SweetAlert2\r\n      const result = await Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action cannot be undone.',\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, delete it!',\r\n        cancelButtonText: 'No, cancel',\r\n      });\r\n\r\n      // If user confirms the deletion\r\n      if (result.isConfirmed) {\r\n        try {\r\n          const response = await axios.patch(`${apiURL}/delete_transaction/${transactionId}`);\r\n          if (response.data.success) {\r\n            Swal.fire(\r\n              'Deleted!',\r\n              'The transaction has been deleted.',\r\n              'success'\r\n            );\r\n\r\n            getTransactions();\r\n          } else {\r\n            Swal.fire('Error', 'Failed to delete the transaction.', 'error');\r\n          }\r\n        } catch (error) {\r\n          Swal.fire('Error', error.message, 'error');\r\n        }\r\n      } else {\r\n        Swal.fire('Cancelled', 'The transaction was not deleted.', 'info');\r\n      }\r\n    };\r\n    const downloadReceipt = async (transactionId) => {\r\n      const response = await axios.get(`${apiURL}/download_receipt/${transactionId}`)\r\n\r\n      if(!response.success){\r\n          Swal.fire('Error', response.message, 'error');\r\n      }\r\n    }\r\n\r\n    return {\r\n      transactions,\r\n      loading,\r\n      getStatusClass,\r\n      showSaleDetail,\r\n      deleteTransaction,\r\n      downloadReceipt,\r\n      selectedTransaction,\r\n\r\n    };\r\n  },\r\n};\r\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}