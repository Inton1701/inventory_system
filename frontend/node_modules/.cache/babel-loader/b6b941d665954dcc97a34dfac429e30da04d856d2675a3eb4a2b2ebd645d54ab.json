{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"page-wrapper\"\n};\nconst _hoisted_2 = {\n  class: \"content\"\n};\nconst _hoisted_3 = {\n  class: \"card table-list-card\"\n};\nconst _hoisted_4 = {\n  class: \"card-body\"\n};\nconst _hoisted_5 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_6 = {\n  key: 1,\n  class: \"table datanew\",\n  id: \"transaction-table\"\n};\nconst _hoisted_7 = {\n  class: \"sales-list\"\n};\nconst _hoisted_8 = {\n  key: 0\n};\nconst _hoisted_9 = {\n  class: \"badge badge-bgsuccess\"\n};\nconst _hoisted_10 = {\n  class: \"text-start\"\n};\nconst _hoisted_11 = {\n  class: \"badge badge-linesuccess\"\n};\nconst _hoisted_12 = {\n  class: \"text-center\"\n};\nconst _hoisted_13 = {\n  class: \"action-set\",\n  href: \"javascript:void(0);\",\n  \"data-bs-toggle\": \"dropdown\",\n  \"aria-expanded\": \"true\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Navbar = _resolveComponent(\"Navbar\");\n  const _component_Sidebar = _resolveComponent(\"Sidebar\");\n  const _component_ClipLoader = _resolveComponent(\"ClipLoader\");\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Navbar), _createVNode(_component_Sidebar), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[4] || (_cache[4] = _createStaticVNode(\"<div class=\\\"page-header\\\"><div class=\\\"add-item d-flex\\\"><div class=\\\"page-title\\\"><h4>Transaction List</h4><h6>Manage Your Transaction</h6></div></div><div class=\\\"page-btn\\\"><a href=\\\"#\\\" class=\\\"btn btn-added\\\" data-bs-toggle=\\\"modal\\\" data-bs-target=\\\"#add-sales-new\\\"><i data-feather=\\\"plus-circle\\\" class=\\\"me-2\\\"></i> Add New Sales</a></div></div>\", 1)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [$setup.loading ? (_openBlock(), _createBlock(_component_ClipLoader, {\n    key: 0\n  })) : (_openBlock(), _createElementBlock(\"table\", _hoisted_6, [_cache[3] || (_cache[3] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Customer\"), _createElementVNode(\"th\", null, \"Reference\"), _createElementVNode(\"th\", null, \"Date\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", null, \"Total\"), _createElementVNode(\"th\", null, \"Payment Method\"), _createElementVNode(\"th\", null, \"Biller\"), _createElementVNode(\"th\", {\n    class: \"text-center\"\n  }, \"Action\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", _hoisted_7, [$setup.transactions.length <= 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_8, _cache[0] || (_cache[0] = [_createElementVNode(\"td\", {\n    colspan: \"8\"\n  }, \"No products available\", -1 /* HOISTED */)]))) : (_openBlock(true), _createElementBlock(_Fragment, {\n    key: 1\n  }, _renderList($setup.transactions, trans => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: trans.id\n    }, [_cache[2] || (_cache[2] = _createElementVNode(\"td\", null, \"Walk in\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, _toDisplayString(trans.transactionId), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(_ctx.$formatDate(trans.createdAt)), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", _hoisted_9, _toDisplayString(trans.status), 1 /* TEXT */)]), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      class: _normalizeClass({\n        'badge': true,\n        ' badge-bgsuccess': trans.status === 'Completed',\n        ' badge-bgsuccess': trans.status === 'Voided'\n      })\n    }, _toDisplayString(_ctx.product.status), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", _hoisted_10, _toDisplayString(trans.totalAmount), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", _hoisted_11, _toDisplayString(trans.paymentMethod), 1 /* TEXT */)]), _createElementVNode(\"td\", null, _toDisplayString(trans.employee), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_12, [_createElementVNode(\"a\", _hoisted_13, [_createVNode(_component_font_awesome_icon, {\n      icon: \"fa fa-ellipsis-v\",\n      \"aria-hidden\": \"true\",\n      class: \"feather-eye\"\n    })]), _cache[1] || (_cache[1] = _createStaticVNode(\"<ul class=\\\"dropdown-menu\\\"><li><a href=\\\"javascript:void(0);\\\" class=\\\"dropdown-item\\\" data-bs-toggle=\\\"modal\\\" data-bs-target=\\\"#sales-details-new\\\"><i data-feather=\\\"eye\\\" class=\\\"info-img\\\"></i>Sale Detail</a></li><li><a href=\\\"javascript:void(0);\\\" class=\\\"dropdown-item\\\" data-bs-toggle=\\\"modal\\\" data-bs-target=\\\"#edit-sales-new\\\"><i data-feather=\\\"edit\\\" class=\\\"info-img\\\"></i>Edit Sale</a></li><li><a href=\\\"javascript:void(0);\\\" class=\\\"dropdown-item\\\" data-bs-toggle=\\\"modal\\\" data-bs-target=\\\"#showpayment\\\"><i data-feather=\\\"dollar-sign\\\" class=\\\"info-img\\\"></i>Show Payments</a></li><li><a href=\\\"javascript:void(0);\\\" class=\\\"dropdown-item\\\" data-bs-toggle=\\\"modal\\\" data-bs-target=\\\"#createpayment\\\"><i data-feather=\\\"plus-circle\\\" class=\\\"info-img\\\"></i>Create Payment</a></li><li><a href=\\\"javascript:void(0);\\\" class=\\\"dropdown-item\\\"><i data-feather=\\\"download\\\" class=\\\"info-img\\\"></i>Download pdf</a></li><li><a href=\\\"javascript:void(0);\\\" class=\\\"dropdown-item confirm-text mb-0\\\"><i data-feather=\\\"trash-2\\\" class=\\\"info-img\\\"></i>Delete Sale</a></li></ul>\", 1))])]);\n  }), 128 /* KEYED_FRAGMENT */))])]))])])])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","key","id","href","_createElementBlock","_Fragment","_createVNode","_component_Navbar","_component_Sidebar","_createElementVNode","_hoisted_1","_hoisted_2","_createStaticVNode","_hoisted_3","_hoisted_4","_hoisted_5","$setup","loading","_createBlock","_component_ClipLoader","_hoisted_6","_hoisted_7","transactions","length","_hoisted_8","_cache","colspan","_renderList","trans","_toDisplayString","transactionId","_ctx","$formatDate","createdAt","_hoisted_9","status","_normalizeClass","product","_hoisted_10","totalAmount","_hoisted_11","paymentMethod","employee","_hoisted_12","_hoisted_13","_component_font_awesome_icon","icon"],"sources":["C:\\Users\\Administrator\\OneDrive\\Desktop\\POSExpress\\frontend\\src\\components\\Admin\\Sales\\Transactions.vue"],"sourcesContent":["<template>\r\n  <Navbar/>\r\n  <Sidebar/>\r\n    <div class=\"page-wrapper\">\r\n        <div class=\"content\">\r\n          <div class=\"page-header\">\r\n            <div class=\"add-item d-flex\">\r\n              <div class=\"page-title\">\r\n                <h4>Transaction List</h4>\r\n                <h6>Manage Your Transaction</h6>\r\n              </div>\r\n            </div>\r\n            <div class=\"page-btn\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"btn btn-added\"\r\n                data-bs-toggle=\"modal\"\r\n                data-bs-target=\"#add-sales-new\"\r\n                ><i data-feather=\"plus-circle\" class=\"me-2\"></i> Add New\r\n                Sales</a\r\n              >\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"card table-list-card\">\r\n            <div class=\"card-body\">\r\n  \r\n\r\n              <div class=\"table-responsive\">\r\n                <ClipLoader v-if=\"loading\" />\r\n                <table v-else class=\"table datanew\" id=\"transaction-table\">\r\n                  <thead>\r\n                    <tr>\r\n       \r\n                      <th>Customer</th>\r\n                      <th>Reference</th>\r\n                      <th>Date</th>\r\n                      <th>Status</th>\r\n                      <th>Total</th>\r\n                      <th>Payment Method</th>\r\n                      <th>Biller</th>\r\n                      <th class=\"text-center\">Action</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody class=\"sales-list\">\r\n                    <tr v-if=\"transactions.length <= 0\">\r\n                        <td colspan=\"8\">No products available</td>\r\n                  </tr>\r\n                  <tr v-else v-for=\"trans in transactions\" :key=\"trans.id\">\r\n                      <td>Walk in</td>\r\n                      <td>{{ trans.transactionId }}</td>\r\n                      <td>{{$formatDate(trans.createdAt)}}</td>\r\n                      <td>\r\n                        <span class=\"badge badge-bgsuccess\">{{ trans.status }}</span>\r\n                      </td>\r\n                      <td>\r\n                    <span :class=\"{\r\n                      'badge': true,\r\n                      ' badge-bgsuccess': trans.status === 'Completed',\r\n                      ' badge-bgsuccess': trans.status === 'Voided'\r\n                    }\">\r\n                      {{ product.status }}\r\n                    </span>\r\n                  </td>\r\n                      <td class=\"text-start\">{{trans.totalAmount}}</td>\r\n                      <td><span class=\"badge badge-linesuccess\">{{trans.paymentMethod}}</span></td>\r\n                      <td>{{ trans.employee }}</td>\r\n                      <td class=\"text-center\">\r\n                        <a\r\n                          class=\"action-set\"\r\n                          href=\"javascript:void(0);\"\r\n                          data-bs-toggle=\"dropdown\"\r\n                          aria-expanded=\"true\"\r\n                        >\r\n                          <font-awesome-icon icon=\"fa fa-ellipsis-v\" aria-hidden=\"true\"  class=\"feather-eye\"/>                     \r\n                        </a>\r\n                        <ul class=\"dropdown-menu\">\r\n                          <li>\r\n                            <a\r\n                              href=\"javascript:void(0);\"\r\n                              class=\"dropdown-item\"\r\n                              data-bs-toggle=\"modal\"\r\n                              data-bs-target=\"#sales-details-new\"\r\n                              ><i data-feather=\"eye\" class=\"info-img\"></i>Sale\r\n                              Detail</a\r\n                            >\r\n                          </li>\r\n                          <li>\r\n                            <a\r\n                              href=\"javascript:void(0);\"\r\n                              class=\"dropdown-item\"\r\n                              data-bs-toggle=\"modal\"\r\n                              data-bs-target=\"#edit-sales-new\"\r\n                              ><i data-feather=\"edit\" class=\"info-img\"></i>Edit\r\n                              Sale</a\r\n                            >\r\n                          </li>\r\n                          <li>\r\n                            <a\r\n                              href=\"javascript:void(0);\"\r\n                              class=\"dropdown-item\"\r\n                              data-bs-toggle=\"modal\"\r\n                              data-bs-target=\"#showpayment\"\r\n                              ><i\r\n                                data-feather=\"dollar-sign\"\r\n                                class=\"info-img\"\r\n                              ></i\r\n                              >Show Payments</a\r\n                            >\r\n                          </li>\r\n                          <li>\r\n                            <a\r\n                              href=\"javascript:void(0);\"\r\n                              class=\"dropdown-item\"\r\n                              data-bs-toggle=\"modal\"\r\n                              data-bs-target=\"#createpayment\"\r\n                              ><i\r\n                                data-feather=\"plus-circle\"\r\n                                class=\"info-img\"\r\n                              ></i\r\n                              >Create Payment</a\r\n                            >\r\n                          </li>\r\n                          <li>\r\n                            <a href=\"javascript:void(0);\" class=\"dropdown-item\"\r\n                              ><i data-feather=\"download\" class=\"info-img\"></i\r\n                              >Download pdf</a\r\n                            >\r\n                          </li>\r\n                          <li>\r\n                            <a\r\n                              href=\"javascript:void(0);\"\r\n                              class=\"dropdown-item confirm-text mb-0\"\r\n                              ><i data-feather=\"trash-2\" class=\"info-img\"></i\r\n                              >Delete Sale</a\r\n                            >\r\n                          </li>\r\n                        </ul>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n \r\n</template>\r\n<script>\r\nimport { ref, onMounted, onBeforeMount, nextTick } from 'vue';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport Navbar from '/src/components/Admin/Navbar.vue';\r\nimport ClipLoader from 'vue-spinner/src/ClipLoader.vue';\r\nimport feather from 'feather-icons'\r\nimport $ from 'jquery';\r\n\r\n\r\n\r\nexport default {\r\n  components: {\r\n    ClipLoader,\r\n    Navbar,\r\n  },\r\n  setup() {\r\n    const apiURL = process.env.VUE_APP_URL;\r\n    const loading = ref(true);\r\n    const transactions = ref([]);\r\n        const initializeDataTable = () => {\r\n            const tableElement = $('#transaction-table');\r\n\r\n            if ($.fn.DataTable.isDataTable(tableElement)) {\r\n                tableElement.DataTable().destroy();\r\n            }\r\n      \r\n            tableElement.DataTable({\r\n                searching: true,\r\n                paging: true,\r\n                info: true,\r\n                responsive: true,\r\n            });\r\n        };\r\n\r\n        const refreshDataTable = () => {\r\n            const table = $('#transaction-table').DataTable();\r\n            table.destroy();\r\n            initializeDataTable();\r\n        };\r\n\r\n        const getTransactions = async () =>{\r\n          loading.value = true;\r\n        try{\r\n          const reponse = await axios.get(`${apiURL}/get_all_transactions`);\r\n        if(reponse.data.success){\r\n          transactions.value = reponse.data.transactions\r\n        }else{\r\n          Swal.fire('Eror', 'Failed to get all transaction', 'error');\r\n        }\r\n        nextTick(() => refreshDataTable());\r\n        }catch(error){\r\n          Swal.fire('Eror', 'Something went wrong', 'error');\r\n        }finally {\r\n                loading.value = false;\r\n            }\r\n\r\n\r\n      }\r\n\r\n      onMounted(async () => {\r\n            try {\r\n                await nextTick()\r\n                await getTransactions();\r\n                initializeDataTable();\r\n                await feather.replace();\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        });\r\n\r\n    onBeforeMount(() => {\r\n\r\n    });\r\n    return {\r\n      transactions,\r\n      loading,\r\n \r\n    };\r\n  },\r\n};\r\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}