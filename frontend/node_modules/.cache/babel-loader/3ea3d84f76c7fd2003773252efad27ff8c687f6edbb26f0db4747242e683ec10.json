{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted, nextTick } from 'vue';\nimport feather from 'feather-icons';\nimport { useRouter } from 'vue-router';\nimport axios from 'axios';\nexport default {\n  name: 'Navbar',\n  setup() {\n    const imageURL = process.env.VUE_APP_IMAGE_URL;\n    const apiURL = process.env.VUE_APP_URL;\n    const isFullScreen = ref(false);\n    const user = localStorage.getItem(\"user\");\n    const role = localStorage.getItem(\"role\");\n    const image = localStorage.getItem(\"image\");\n    const router = useRouter();\n    const toggleFullScreen = async () => {\n      try {\n        if (!document.fullscreenElement) {\n          await document.documentElement.requestFullscreen();\n          isFullScreen.value = true;\n        } else {\n          await document.exitFullscreen();\n          isFullScreen.value = false;\n        }\n      } catch (err) {\n        console.error(`Error attempting to change fullscreen mode: ${err.message}`);\n      }\n    };\n    const logout = () => {\n      Swal.fire({\n        title: 'Are you sure?',\n        text: \"You will be logged out of your account.\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, logout!',\n        cancelButtonText: 'Cancel'\n      }).then(async result => {\n        if (result.isConfirmed) {\n          try {\n            const userId = localStorage.getItem('id');\n            const response = await axios.patch(`${apiURL}/logout/${userId}`);\n            if (response.data.success) {\n              // Clear local storage\n              localStorage.removeItem('token');\n              localStorage.removeItem('role');\n              localStorage.removeItem('id');\n              localStorage.removeItem('user');\n              localStorage.removeItem('emails');\n              localStorage.removeItem('image');\n              // Redirect to home\n              router.push('/');\n              Swal.fire('Logged Out', 'You have been successfully logged out.', 'success');\n            } else {\n              Swal.fire('Logged Out', 'An error occurred during logout', 'error');\n              router.push('/');\n            }\n          } catch (error) {\n            Swal.fire('Error', 'An error occurred during logout', 'error');\n            console.log(error);\n          }\n        }\n      });\n    };\n    onMounted(() => {\n      feather.replace();\n    });\n    return {\n      isFullScreen,\n      toggleFullScreen,\n      user,\n      logout,\n      role,\n      imageURL,\n      image\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","nextTick","feather","useRouter","axios","name","setup","imageURL","process","env","VUE_APP_IMAGE_URL","apiURL","VUE_APP_URL","isFullScreen","user","localStorage","getItem","role","image","router","toggleFullScreen","document","fullscreenElement","documentElement","requestFullscreen","value","exitFullscreen","err","console","error","message","logout","Swal","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed","userId","response","patch","data","success","removeItem","push","log","replace"],"sources":["C:\\Users\\Administrator\\OneDrive\\Desktop\\POSExpress\\frontend\\src\\components\\Admin\\Navbar.vue"],"sourcesContent":["<template>\r\n\r\n  <div class=\"main-wrapper\">\r\n    <div class=\"header\">\r\n      <div class=\"header-left active\">\r\n        <a href=\"#\" class=\"logo logo-normal\">\r\n          <img src=\"assets/img/logo.png\" alt />\r\n        </a>\r\n        <a href=\"index.html\" class=\"logo logo-white\">\r\n          <img src=\"assets/img/logo-white.png\" alt />\r\n        </a>\r\n        <a href=\"index.html\" class=\"logo-small\">\r\n          <img src=\"assets/img/logo-small.png\" alt />\r\n        </a>\r\n        <a id=\"toggle_btn\" href=\"javascript:void(0);\">\r\n          <i data-feather=\"chevrons-left\" class=\"feather-16\"></i>\r\n        </a>\r\n      </div>\r\n      <a id=\"mobile_btn\" class=\"mobile_btn\" href=\"#sidebar\">\r\n        <span class=\"bar-icon\">\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </span>\r\n      </a>\r\n      <ul class=\"nav user-menu\">\r\n        <li class=\"nav-item nav-searchinputs\">\r\n\r\n        </li>\r\n        <li class=\"nav-item nav-item-box\">\r\n          <a href=\"#\" type=\"button\" @click=\"toggleFullScreen\" id=\"btnFullscreen\">\r\n\r\n            <font-awesome-icon v-if=\"!isFullScreen\" icon=\"expand\" style=\"color: #56c49b;\" />\r\n\r\n          </a>\r\n        </li>\r\n        <li class=\"nav-item dropdown nav-item-box\">\r\n          <a href=\"javascript:void(0);\" class=\"dropdown-toggle nav-link\" data-bs-toggle=\"dropdown\">\r\n            <i data-feather=\"bell\"></i><span class=\"badge rounded-pill\">2</span>\r\n          </a>\r\n          <div class=\"dropdown-menu notifications\">\r\n            <div class=\"topnav-dropdown-header\">\r\n              <span class=\"notification-title\">Notifications</span>\r\n              <a href=\"javascript:void(0)\" class=\"clear-noti\"> Clear All </a>\r\n            </div>\r\n            <div class=\"noti-content\">\r\n              <ul class=\"notification-list\">\r\n                <li class=\"notification-message\">\r\n                  <a href=\"activities.html\">\r\n                    <div class=\"media d-flex\">\r\n                      <span class=\"avatar flex-shrink-0\">\r\n                        <img alt src=\"assets/img/profiles/avatar-13.jpg\" />\r\n                      </span>\r\n                      <div class=\"media-body flex-grow-1\">\r\n                        <p class=\"noti-details\">\r\n                          <span class=\"noti-title\">Bernardo Galaviz</span>\r\n                          added new task\r\n                          <span class=\"noti-title\">Private chat module</span>\r\n                        </p>\r\n                        <p class=\"noti-time\">\r\n                          <span class=\"notification-time\">2 days ago</span>\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div class=\"topnav-dropdown-footer\">\r\n              <a href=\"activities.html\">View all Notifications</a>\r\n            </div>\r\n          </div>\r\n        </li>\r\n\r\n        <li class=\"nav-item nav-item-box\">\r\n          <a href=\"general-settings.html\"><i data-feather=\"settings\"></i></a>\r\n        </li>\r\n        <li class=\"nav-item dropdown has-arrow main-drop\">\r\n          <a href=\"javascript:void(0);\" class=\"dropdown-toggle nav-link userset\" data-bs-toggle=\"dropdown\">\r\n            <span class=\"user-info\">\r\n              <span class=\"user-letter\">\r\n                <img :src=\"image ? `${imageURL}${image}` : '/img/icons/no-image-icon.png'\" alt=\"User image\" class=\"img-fluid\" />\r\n\r\n              </span>\r\n              <span class=\"user-detail\">\r\n                <span class=\"user-name\">{{ user }}</span>\r\n                <span class=\"user-role\">{{  role }}</span>\r\n              </span>\r\n            </span>\r\n          </a>\r\n          <div class=\"dropdown-menu menu-drop-user\">\r\n            <div class=\"profilename\">\r\n              <div class=\"profileset\">\r\n                <span class=\"user-img\">   <img :src=\"image ? `${imageURL}${image}` : '/img/icons/no-image-icon.png'\" alt=\"User image\" class=\"img-fluid\" />\r\n                  <span class=\"status online\"></span></span>\r\n                <div class=\"profilesets\">\r\n                  <h6>{{ user }}</h6>\r\n                  <h5>{{  role }}</h5>\r\n                </div>\r\n              </div>\r\n              <hr class=\"m-0\" />\r\n              <a class=\"dropdown-item\" href=\"profile.html\">\r\n                <i class=\"me-2\" data-feather=\"user\"></i> My Profile</a>\r\n              <a class=\"dropdown-item\" href=\"general-settings.html\"><i class=\"me-2\"\r\n                  data-feather=\"settings\"></i>Settings</a>\r\n              <hr class=\"m-0\" />\r\n              <a class=\"dropdown-item logout pb-0\" href=\"#\"  @click=\"logout\"><img src=\"assets/img/icons/log-out.svg\"\r\n                  class=\"me-2\" alt=\"img\" />Logout</a>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n\r\n      <div class=\"dropdown mobile-user-menu\">\r\n        <a href=\"javascript:void(0);\" class=\"nav-link dropdown-toggle\" data-bs-toggle=\"dropdown\"\r\n          aria-expanded=\"false\"><i class=\"fa fa-ellipsis-v\"></i></a>\r\n        <div class=\"dropdown-menu dropdown-menu-right\">\r\n          <a class=\"dropdown-item\" href=\"profile.html\">My Profile</a>\r\n          <a class=\"dropdown-item\" href=\"general-settings.html\">Settings</a>\r\n          <a class=\"dropdown-item\" href=\"/\">Logout</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"sidebar\" id=\"sidebar\">\r\n      <div class=\"sidebar-inner slimscroll\">\r\n        <div id=\"sidebar-menu\" class=\"sidebar-menu\">\r\n          <ul>\r\n            <li class=\"submenu-open\">\r\n              <h6 class=\"submenu-hdr\">Main</h6>\r\n              <ul>\r\n                <ul>\r\n                  <li>\r\n                    <router-link to=\"/dashboard\"><i data-feather=\"grid\"></i><span>Admin Dashboard</span></router-link>\r\n                  </li>\r\n                </ul>\r\n              </ul>\r\n            </li>\r\n            <li class=\"submenu-open\">\r\n              <h6 class=\"submenu-hdr\">Inventory</h6>\r\n              <ul>\r\n                <li>\r\n                  <router-link to=\"/products\"><i data-feather=\"box\"></i><span>Products</span></router-link>\r\n                </li>\r\n                <li>\r\n                  <router-link to=\"/create-product\"><i data-feather=\"plus-square\"></i><span>Create\r\n                      Product</span></router-link>\r\n                </li>\r\n\r\n                <li>\r\n                  <router-link to=\"/manage-stocks\"><i data-feather=\"package\"></i><span>Manage Stock</span></router-link>\r\n                </li>\r\n                <li>\r\n                  <router-link to=\"/category\"><i data-feather=\"codepen\"></i><span>Category</span></router-link>\r\n                </li>\r\n\r\n                <li>\r\n                  <router-link to=\"/brands\"><i data-feather=\"tag\"></i><span>Brands</span></router-link>\r\n                </li>\r\n                <li>\r\n                  <router-link to=\"/units\"><i data-feather=\"speaker\"></i><span>Units</span></router-link>\r\n                </li>\r\n\r\n              </ul>\r\n            </li>\r\n      \r\n            <li class=\"submenu-open\">\r\n              <h6 class=\"submenu-hdr\">Sales</h6>\r\n              <ul>\r\n\r\n                <li>\r\n                  <router-link to=\"transactions\"><i data-feather=\"file-text\"></i><span>Transactions</span></router-link>\r\n                </li>\r\n                <li>\r\n                  <a href=\"returns\"><i data-feather=\"copy\"></i><span>Sales Return</span></a>\r\n                </li>\r\n                <li>\r\n                  <a href=\"voids\"><i data-feather=\"alert-octagon\"></i><span>Voids</span></a>\r\n                </li>\r\n                <li>\r\n                  <a href=\"pos\"><i data-feather=\"hard-drive\"></i><span>POS</span></a>\r\n                </li>\r\n              </ul>\r\n            </li>\r\n            <li class=\"submenu-open\">\r\n              <h6 class=\"submenu-hdr\">Promo</h6>\r\n              <ul>\r\n                <li>\r\n                  <a href=\"coupons\"><i data-feather=\"shopping-cart\"></i><span>Coupons</span></a>\r\n                </li>\r\n              </ul>\r\n            </li>\r\n            <li class=\"submenu-open\">\r\n              <h6 class=\"submenu-hdr\">Peoples</h6>\r\n              <ul>\r\n                <li>\r\n                  <router-link to=\"customers\"><i data-feather=\"user\"></i><span>Customers</span></router-link>\r\n                </li>\r\n                <li>\r\n                  <router-link to=\"staffs\"><i data-feather=\"users\"></i><span>Staffs</span></router-link>\r\n                </li>\r\n              </ul>\r\n            </li>\r\n\r\n\r\n\r\n            <li class=\"submenu-open\">\r\n              <h6 class=\"submenu-hdr\">Settings</h6>\r\n              <ul>\r\n                <li class=\"submenu\">\r\n                  <a href=\"javascript:void(0);\"><i data-feather=\"settings\"></i><span>Settings</span></a>\r\n      \r\n                </li>\r\n\r\n\r\n                <li>\r\n                  <a href=\"#\" @click=\"logout\"><i data-feather=\"log-out\"></i><span>Logout</span>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </li>\r\n\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n</template>\r\n<script>\r\nimport { ref, onMounted, nextTick } from 'vue';\r\nimport feather from 'feather-icons';\r\nimport { useRouter } from 'vue-router';\r\nimport axios from 'axios';\r\nexport default {\r\n  name: 'Navbar',\r\n  setup() {\r\n    const imageURL = process.env.VUE_APP_IMAGE_URL;\r\n    const apiURL = process.env.VUE_APP_URL;\r\n    const isFullScreen = ref(false);\r\n    const user = localStorage.getItem(\"user\"); \r\n    const role = localStorage.getItem(\"role\");\r\n    const image = localStorage.getItem(\"image\");\r\n    const router = useRouter();\r\n\r\n    const toggleFullScreen = async () => {\r\n      try {\r\n        if (!document.fullscreenElement) {\r\n\r\n          await document.documentElement.requestFullscreen();\r\n          isFullScreen.value = true;\r\n\r\n        } else {\r\n          await document.exitFullscreen();\r\n          isFullScreen.value = false;\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n      } catch (err) {\r\n        console.error(`Error attempting to change fullscreen mode: ${err.message}`);\r\n      }\r\n    };\r\n\r\n    const logout =  () =>{\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: \"You will be logged out of your account.\",\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, logout!',\r\n        cancelButtonText: 'Cancel'\r\n      }).then( async(result) => {\r\n        if (result.isConfirmed) {\r\n          try{\r\n            const userId = localStorage.getItem('id');\r\n          const response = await axios.patch(`${apiURL}/logout/${userId}`)\r\n          if(response.data.success) {\r\n          // Clear local storage\r\n          localStorage.removeItem('token');\r\n          localStorage.removeItem('role');\r\n          localStorage.removeItem('id');\r\n          localStorage.removeItem('user');\r\n          localStorage.removeItem('emails');\r\n          localStorage.removeItem('image');\r\n          // Redirect to home\r\n          router.push('/');\r\n          \r\n          Swal.fire(\r\n            'Logged Out',\r\n            'You have been successfully logged out.',\r\n            'success'\r\n          );\r\n          }else{\r\n            Swal.fire(\r\n            'Logged Out',\r\n            'An error occurred during logout',\r\n            'error'\r\n          );\r\n          router.push('/');\r\n          }\r\n\r\n          }catch(error){\r\n            Swal.fire('Error','An error occurred during logout','error'); \r\n            console.log(error);\r\n          }\r\n         \r\n        }\r\n      });\r\n    };\r\n\r\n    onMounted(() => {\r\n      feather.replace();\r\n    });\r\n\r\n    return {\r\n      isFullScreen,\r\n      toggleFullScreen,\r\n      user,\r\n      logout,\r\n      role,\r\n      imageURL,\r\n      image,\r\n\r\n    };\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.sidebar {\r\n  overflow-y: auto; /* Enables vertical scrolling */\r\n  max-height: 100vh; /* Ensures it doesn't exceed the viewport height */\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}