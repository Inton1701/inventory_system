{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport Navbar from '/src/components/Admin/Navbar.vue';\nimport axios from 'axios';\nexport default {\n  components: {\n    Navbar\n  },\n  setup() {\n    const tabs = [{\n      label: 'Google Drive',\n      value: 'google-drive'\n    }, {\n      label: 'Invoice',\n      value: 'invoice'\n    }];\n    const activeTab = ref('google-drive');\n    const googleDriveEnabled = ref(false);\n    const invoiceEnabled = ref(false);\n    const folderId = ref('');\n    const storeName = ref('');\n    const storeAddress = ref('');\n    const storeSecondAddress = ref('');\n    const contact = ref('');\n    const message = ref('');\n\n    // Fetch current settings from backend\n    onMounted(async () => {\n      try {\n        const response = await axios.get('/settings');\n        const {\n          receipt,\n          config\n        } = response.data;\n\n        // Google Drive Settings (config)\n        googleDriveEnabled.value = config.status;\n        folderId.value = config.folderID;\n\n        // Invoice Settings (receipt)\n        storeName.value = receipt.storeName || '';\n        storeAddress.value = receipt.storeAdress || '';\n        storeSecondAddress.value = receipt.storeSecondAddress || '';\n        contact.value = receipt.contact || '';\n        message.value = receipt.message || '';\n      } catch (error) {\n        console.error('Error fetching settings:', error);\n      }\n    });\n\n    // Save updated settings to the backend\n    const saveChanges = async () => {\n      try {\n        await axios.post('/updateReceiptSettings', {\n          storeName: storeName.value,\n          storeAdress: storeAddress.value,\n          storeSecondAddress: storeSecondAddress.value,\n          contact: contact.value,\n          message: message.value\n        });\n        await axios.post('/updateConfigSettings', {\n          status: googleDriveEnabled.value,\n          folderID: folderId.value\n        });\n        alert('Settings saved successfully');\n      } catch (error) {\n        console.error('Error saving settings:', error);\n        alert('Failed to save settings');\n      }\n    };\n\n    // Restore default settings\n    const restoreDefaults = async () => {\n      try {\n        await axios.post('/restoreDefaultReceiptSettings');\n        await axios.post('/restoreDefaultConfigSettings');\n        alert('Defaults restored successfully');\n      } catch (error) {\n        console.error('Error restoring defaults:', error);\n        alert('Failed to restore defaults');\n      }\n    };\n    return {\n      activeTab,\n      googleDriveEnabled,\n      invoiceEnabled,\n      folderId,\n      storeName,\n      storeAddress,\n      storeSecondAddress,\n      contact,\n      message,\n      tabs,\n      saveChanges,\n      restoreDefaults\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","Navbar","axios","components","setup","tabs","label","value","activeTab","googleDriveEnabled","invoiceEnabled","folderId","storeName","storeAddress","storeSecondAddress","contact","message","response","get","receipt","config","data","status","folderID","storeAdress","error","console","saveChanges","post","alert","restoreDefaults"],"sources":["C:\\Users\\Administrator\\OneDrive\\Desktop\\POSExpress\\frontend\\src\\components\\Admin\\Inventory\\Settings.vue"],"sourcesContent":["<template>\r\n  <Navbar />\r\n  <div class=\"page-wrapper\">\r\n    <div class=\"content settings-content\">\r\n      <div class=\"page-header settings-pg-header\">\r\n        <div class=\"add-item d-flex\">\r\n          <div class=\"page-title\">\r\n            <h4>Settings</h4>\r\n            <h6>Manage your settings on the portal</h6>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-xl-12\">\r\n          <div class=\"container py-4\">\r\n            <div class=\"card shadow\">\r\n              <div class=\"card-body\">\r\n                <div>\r\n                  <ul class=\"nav nav-tabs\" role=\"tablist\">\r\n                    <li class=\"nav-item\" v-for=\"tab in tabs\" :key=\"tab.value\">\r\n                      <button\r\n                        class=\"nav-link\"\r\n                        :class=\"{ active: activeTab === tab.value }\"\r\n                        @click=\"activeTab = tab.value\"\r\n                      >\r\n                        {{ tab.label }}\r\n                      </button>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n\r\n                <div class=\"tab-content mt-4\">\r\n                  <!-- Google Drive Tab -->\r\n                  <div v-if=\"activeTab === 'google-drive'\">\r\n                    <div class=\"card  border-secondary\">\r\n                      <div class=\"card-header text-white\">\r\n                        <h5>Google Drive Settings</h5>\r\n                      </div>\r\n                      <div class=\"card-body\">\r\n                        <div class=\"form-check form-switch\">\r\n                          <input\r\n                            class=\"form-check-input\"\r\n                            type=\"checkbox\"\r\n                            id=\"google-drive-toggle\"\r\n                            v-model=\"googleDriveEnabled\"\r\n                          />\r\n                          <label class=\"form-check-label\" for=\"google-drive-toggle\">Enable Google Drive Integration</label>\r\n                        </div>\r\n                        <div class=\"mt-3\">\r\n                          <label for=\"folder-id\" class=\"form-label\">Folder ID</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            id=\"folder-id\"\r\n                            class=\"form-control\"\r\n                            v-model=\"folderId\"\r\n                            :disabled=\"!googleDriveEnabled\"\r\n                            placeholder=\"Enter Google Drive Folder ID\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <!-- Invoice Tab -->\r\n                  <div v-if=\"activeTab === 'invoice'\">\r\n                    <div class=\"card border-secondary\">\r\n                      <div class=\"card-header text-white\">\r\n                        <h5>Invoice Settings</h5>\r\n                      </div>\r\n                      <div class=\"card-body\">\r\n                        <div class=\"form-check form-switch\">\r\n                          <input\r\n                            class=\"form-check-input\"\r\n                            type=\"checkbox\"\r\n                            id=\"invoice-toggle\"\r\n                            v-model=\"invoiceEnabled\"\r\n                          />\r\n                          <label class=\"form-check-label\" for=\"invoice-toggle\">Enable Invoice Generation</label>\r\n                        </div>\r\n                        <div class=\"mt-3\">\r\n                          <label for=\"store-name\" class=\"form-label\">Store Name</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            id=\"store-name\"\r\n                            class=\"form-control\"\r\n                            v-model=\"storeName\"\r\n                            :disabled=\"!invoiceEnabled\"\r\n                            placeholder=\"Enter Store Name\"\r\n                          />\r\n                        </div>\r\n                        <div class=\"mt-3\">\r\n                          <label for=\"store-address\" class=\"form-label\">Store Address</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            id=\"store-address\"\r\n                            class=\"form-control\"\r\n                            v-model=\"storeAddress\"\r\n                            :disabled=\"!invoiceEnabled\"\r\n                            placeholder=\"Enter Store Address\"\r\n                          />\r\n                        </div>\r\n                        <div class=\"mt-3\">\r\n                          <label for=\"store-second-address\" class=\"form-label\">Store Second Address</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            id=\"store-second-address\"\r\n                            class=\"form-control\"\r\n                            v-model=\"storeSecondAddress\"\r\n                            :disabled=\"!invoiceEnabled\"\r\n                            placeholder=\"Enter Second Store Address\"\r\n                          />\r\n                        </div>\r\n                        <div class=\"mt-3\">\r\n                          <label for=\"contact\" class=\"form-label\">Contact</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            id=\"contact\"\r\n                            class=\"form-control\"\r\n                            v-model=\"contact\"\r\n                            :disabled=\"!invoiceEnabled\"\r\n                            placeholder=\"Enter Contact\"\r\n                          />\r\n                        </div>\r\n                        <div class=\"mt-3\">\r\n                          <label for=\"message\" class=\"form-label\">Message</label>\r\n                          <textarea\r\n                            id=\"message\"\r\n                            class=\"form-control\"\r\n                            rows=\"3\"\r\n                            v-model=\"message\"\r\n                            :disabled=\"!invoiceEnabled\"\r\n                            placeholder=\"Enter Message\"\r\n                          ></textarea>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"mt-4 d-flex justify-content-end\">\r\n                  <button class=\"btn btn-info mx-3\" @click=\"restoreDefaults\">Restore Defaults</button>\r\n                  <button class=\"btn btn-primary\" @click=\"saveChanges\">Save Changes</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue';\r\nimport Navbar from '/src/components/Admin/Navbar.vue';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  components: {\r\n    Navbar,\r\n  },\r\n  setup() {\r\n    const tabs = [\r\n      { label: 'Google Drive', value: 'google-drive' },\r\n      { label: 'Invoice', value: 'invoice' },\r\n    ];\r\n\r\n    const activeTab = ref('google-drive');\r\n    const googleDriveEnabled = ref(false);\r\n    const invoiceEnabled = ref(false);\r\n    const folderId = ref('');\r\n    const storeName = ref('');\r\n    const storeAddress = ref('');\r\n    const storeSecondAddress = ref('');\r\n    const contact = ref('');\r\n    const message = ref('');\r\n\r\n    // Fetch current settings from backend\r\n    onMounted(async () => {\r\n      try {\r\n        const response = await axios.get('/settings');\r\n        const { receipt, config } = response.data;\r\n\r\n        // Google Drive Settings (config)\r\n        googleDriveEnabled.value = config.status;\r\n        folderId.value = config.folderID;\r\n\r\n        // Invoice Settings (receipt)\r\n        storeName.value = receipt.storeName || '';\r\n        storeAddress.value = receipt.storeAdress || '';\r\n        storeSecondAddress.value = receipt.storeSecondAddress || '';\r\n        contact.value = receipt.contact || '';\r\n        message.value = receipt.message || '';\r\n      } catch (error) {\r\n        console.error('Error fetching settings:', error);\r\n      }\r\n    });\r\n\r\n    // Save updated settings to the backend\r\n    const saveChanges = async () => {\r\n      try {\r\n        await axios.post('/updateReceiptSettings', {\r\n          storeName: storeName.value,\r\n          storeAdress: storeAddress.value,\r\n          storeSecondAddress: storeSecondAddress.value,\r\n          contact: contact.value,\r\n          message: message.value,\r\n        });\r\n\r\n        await axios.post('/updateConfigSettings', {\r\n          status: googleDriveEnabled.value,\r\n          folderID: folderId.value,\r\n        });\r\n\r\n        alert('Settings saved successfully');\r\n      } catch (error) {\r\n        console.error('Error saving settings:', error);\r\n        alert('Failed to save settings');\r\n      }\r\n    };\r\n\r\n    // Restore default settings\r\n    const restoreDefaults = async () => {\r\n      try {\r\n        await axios.post('/restoreDefaultReceiptSettings');\r\n        await axios.post('/restoreDefaultConfigSettings');\r\n        alert('Defaults restored successfully');\r\n      } catch (error) {\r\n        console.error('Error restoring defaults:', error);\r\n        alert('Failed to restore defaults');\r\n      }\r\n    };\r\n\r\n    return {\r\n      activeTab,\r\n      googleDriveEnabled,\r\n      invoiceEnabled,\r\n      folderId,\r\n      storeName,\r\n      storeAddress,\r\n      storeSecondAddress,\r\n      contact,\r\n      message,\r\n      tabs,\r\n      saveChanges,\r\n      restoreDefaults,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Style for tabs */\r\nnav button {\r\n  transition: all 0.2s ease-in-out;\r\n}\r\n\r\nnav button.active {\r\n  background-color: #f7f7f7;\r\n}\r\n\r\nnav button:hover {\r\n  background-color: #e2e2e2;\r\n}\r\n\r\n/* Optional: Customize the tab content background */\r\n.bg-white {\r\n  background-color: #ffffff;\r\n}\r\n\r\n/* Optional: Add more custom styling here */\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}