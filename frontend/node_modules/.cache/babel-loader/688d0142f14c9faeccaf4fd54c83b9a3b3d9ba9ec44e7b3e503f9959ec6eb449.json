{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport default {\n  setup() {\n    const email = ref(\"\");\n    const password = ref(\"\");\n    const router = useRouter();\n    const isPasswordVisible = ref(false);\n    const togglePassword = () => {\n      isPasswordVisible.value = !isPasswordVisible.value;\n    };\n    const login = async () => {\n      try {\n        const response = await axios.post(\"http://localhost:5000/api/login\", {\n          email: email.value,\n          password: password.value\n        });\n        const {\n          token,\n          role\n        } = response.data;\n\n        // Store token and role in local storage\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"userRole\", role);\n\n        // Show success notification\n        Swal.fire({\n          icon: \"success\",\n          title: \"Login Successful\",\n          text: `Welcome, ${role}!`\n        });\n\n        // Redirect based on role\n        if (role === \"admin\") {\n          router.push(\"/admin-dashboard\");\n        } else if (role === \"cashier\") {\n          router.push(\"/cashier-dashboard\");\n        }\n      } catch (error) {\n        // Show error notification\n        Swal.fire({\n          icon: \"error\",\n          title: \"Login Failed\",\n          text: error.response?.data?.message || \"An error occurred during login\"\n        });\n      }\n    };\n    return {\n      email,\n      password,\n      login,\n      togglePassword,\n      isPasswordVisible\n    };\n  }\n};","map":{"version":3,"names":["ref","useRouter","axios","Swal","setup","email","password","router","isPasswordVisible","togglePassword","value","login","response","post","token","role","data","localStorage","setItem","fire","icon","title","text","push","error","message"],"sources":["C:\\Users\\Administrator\\OneDrive\\Desktop\\POSExpress\\frontend\\src\\components\\LandingPage\\Login.vue"],"sourcesContent":["<template>\r\n    <div class=\"container mt-5\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-5\">\r\n          <div class=\"card shadow-lg border-0 rounded\">\r\n            <div class=\"text-center mt-3\">\r\n              <img\r\n                src=\"/img/logo.png\"\r\n                alt=\"Logo\"\r\n                class=\"img-fluid \"\r\n                style=\"width: 400px; height: 100px;\"\r\n              />\r\n            </div>\r\n            <div class=\"card-header text-center  text-white\">\r\n              <h4 class=\"m-0\">Welcome Back</h4>\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <form @submit.prevent=\"login\">\r\n                <div class=\"mb-3\">\r\n                  <label for=\"email\" class=\"form-label\">Email Address</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    class=\"form-control form-control-lg\"\r\n                    id=\"email\"\r\n                    v-model=\"email\"\r\n                    placeholder=\"Enter your email\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div class=\"mb-3 pass-group\">\r\n                  <label for=\"password\" class=\"form-label\">Password</label>\r\n                  <input\r\n                     :type=\"isPasswordVisible ? 'text' : 'password'\" \r\n                    class=\"form-control form-control-lg\"\r\n                    id=\"password\"\r\n                    v-model=\"password\"\r\n                    placeholder=\"Enter your password\"\r\n                    required\r\n                  />\r\n                  <font-awesome-icon :icon=\"ipasswordVisible ? 'fa-eye' : 'fa-eye-slash'\" @click=\"togglePassword()\"\r\n                  class=\"toggle-password fa-xs\" style=\"font-size: 8px;\" />\r\n                </div>\r\n                <div class=\"d-grid gap-2\">\r\n                  <button type=\"submit\" class=\"btn btn-primary btn-lg\">\r\n                    Login\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n            <div class=\"card-footer text-center text-muted\">\r\n              <small>Don't have an account? <a href=\"#\" class=\"text-primary\">Sign up</a></small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n\r\n<label>Password</label>\r\n<div class=\"pass-group\">\r\n  <input :type=\"passwordVisible ? 'text' : 'password'\" id=\"add-password\" class=\"pass-input\"\r\n    v-model=\"editUser.password\" />\r\n  <font-awesome-icon :icon=\"passwordVisible ? 'fa-eye' : 'fa-eye-slash'\" @click=\"togglePassword()\"\r\n    class=\"toggle-password fa-xs\" style=\"font-size: 8px;\" />\r\n</div>\r\n\r\n  <script>\r\n  import { ref } from \"vue\";\r\n  import { useRouter } from \"vue-router\";\r\n  import axios from \"axios\";\r\n  import Swal from \"sweetalert2\";\r\n  \r\n  export default {\r\n    setup() {\r\n      const email = ref(\"\");\r\n      const password = ref(\"\");\r\n      const router = useRouter();\r\n      const isPasswordVisible = ref(false);\r\n      const togglePassword = ()=>{\r\n        isPasswordVisible.value = !isPasswordVisible.value;\r\n    } \r\n      const login = async () => {\r\n        try {\r\n          const response = await axios.post(\"http://localhost:5000/api/login\", {\r\n            email: email.value,\r\n            password: password.value,\r\n          });\r\n  \r\n          const { token, role } = response.data;\r\n  \r\n          // Store token and role in local storage\r\n          localStorage.setItem(\"token\", token);\r\n          localStorage.setItem(\"userRole\", role);\r\n  \r\n          // Show success notification\r\n          Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Login Successful\",\r\n            text: `Welcome, ${role}!`,\r\n          });\r\n  \r\n          // Redirect based on role\r\n          if (role === \"admin\") {\r\n            router.push(\"/admin-dashboard\");\r\n          } else if (role === \"cashier\") {\r\n            router.push(\"/cashier-dashboard\");\r\n          }\r\n        } catch (error) {\r\n          // Show error notification\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Login Failed\",\r\n            text: error.response?.data?.message || \"An error occurred during login\",\r\n          });\r\n        }\r\n      };\r\n  \r\n      return {\r\n        email,\r\n        password,\r\n        login,\r\n        togglePassword,\r\n        isPasswordVisible\r\n      };\r\n    },\r\n  };\r\n  </script>"],"mappings":";AAmEE,SAASA,GAAE,QAAS,KAAK;AACzB,SAASC,SAAQ,QAAS,YAAY;AACtC,OAAOC,KAAI,MAAO,OAAO;AACzB,OAAOC,IAAG,MAAO,aAAa;AAE9B,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIL,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMM,QAAO,GAAIN,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMO,MAAK,GAAIN,SAAS,CAAC,CAAC;IAC1B,MAAMO,iBAAgB,GAAIR,GAAG,CAAC,KAAK,CAAC;IACpC,MAAMS,cAAa,GAAIA,CAAA,KAAI;MACzBD,iBAAiB,CAACE,KAAI,GAAI,CAACF,iBAAiB,CAACE,KAAK;IACtD;IACE,MAAMC,KAAI,GAAI,MAAAA,CAAA,KAAY;MACxB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMV,KAAK,CAACW,IAAI,CAAC,iCAAiC,EAAE;UACnER,KAAK,EAAEA,KAAK,CAACK,KAAK;UAClBJ,QAAQ,EAAEA,QAAQ,CAACI;QACrB,CAAC,CAAC;QAEF,MAAM;UAAEI,KAAK;UAAEC;QAAK,IAAIH,QAAQ,CAACI,IAAI;;QAErC;QACAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,KAAK,CAAC;QACpCG,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEH,IAAI,CAAC;;QAEtC;QACAZ,IAAI,CAACgB,IAAI,CAAC;UACRC,IAAI,EAAE,SAAS;UACfC,KAAK,EAAE,kBAAkB;UACzBC,IAAI,EAAE,YAAYP,IAAI;QACxB,CAAC,CAAC;;QAEF;QACA,IAAIA,IAAG,KAAM,OAAO,EAAE;UACpBR,MAAM,CAACgB,IAAI,CAAC,kBAAkB,CAAC;QACjC,OAAO,IAAIR,IAAG,KAAM,SAAS,EAAE;UAC7BR,MAAM,CAACgB,IAAI,CAAC,oBAAoB,CAAC;QACnC;MACF,EAAE,OAAOC,KAAK,EAAE;QACd;QACArB,IAAI,CAACgB,IAAI,CAAC;UACRC,IAAI,EAAE,OAAO;UACbC,KAAK,EAAE,cAAc;UACrBC,IAAI,EAAEE,KAAK,CAACZ,QAAQ,EAAEI,IAAI,EAAES,OAAM,IAAK;QACzC,CAAC,CAAC;MACJ;IACF,CAAC;IAED,OAAO;MACLpB,KAAK;MACLC,QAAQ;MACRK,KAAK;MACLF,cAAc;MACdD;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}