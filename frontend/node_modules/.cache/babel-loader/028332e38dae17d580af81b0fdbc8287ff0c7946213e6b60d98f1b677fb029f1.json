{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vModelDynamic as _vModelDynamic, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, withModifiers as _withModifiers, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"header\"\n};\nconst _hoisted_2 = {\n  class: \"d-flex justify-content-between align-items-center\"\n};\nconst _hoisted_3 = {\n  class: \"container mt-5\"\n};\nconst _hoisted_4 = {\n  class: \"row justify-content-center\"\n};\nconst _hoisted_5 = {\n  class: \"col-md-5\"\n};\nconst _hoisted_6 = {\n  class: \"card shadow-lg border-0 rounded\"\n};\nconst _hoisted_7 = {\n  class: \"card-body\"\n};\nconst _hoisted_8 = {\n  class: \"mb-3\"\n};\nconst _hoisted_9 = {\n  for: \"email\",\n  class: \"form-label text-center\"\n};\nconst _hoisted_10 = {\n  class: \"mb-3 pass-group\"\n};\nconst _hoisted_11 = [\"type\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Logo / Title \"), _cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n    class: \"logo\"\n  }, [_createElementVNode(\"img\", {\n    src: \"assets/img/logo.png\",\n    alt: \"POSExpress\",\n    class: \"img-fluid\",\n    style: {\n      \"width\": \"200px\",\n      \"height\": \"60px\"\n    }\n  })], -1 /* HOISTED */)), _createCommentVNode(\" Logout Button \"), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.logout())\n  }, \"LOGOUT\")])]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n    class: \"text-center mt-3\"\n  }, [_createElementVNode(\"img\", {\n    src: \"/img/logo.png\",\n    alt: \"Logo\",\n    class: \"img-fluid\",\n    style: {\n      \"width\": \"400px\",\n      \"height\": \"100px\"\n    }\n  })], -1 /* HOISTED */)), _cache[8] || (_cache[8] = _createElementVNode(\"div\", {\n    class: \"card-header text-center text-white\"\n  }, [_createElementVNode(\"h4\", {\n    class: \"m-0\"\n  }, \"Re-Enter The Password\")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $setup.login && $setup.login(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"h5\", _hoisted_9, _toDisplayString($setup.email), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_10, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    for: \"password\",\n    class: \"form-label\"\n  }, \"Password\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: $setup.isPasswordVisible ? 'text' : 'password',\n    class: \"form-control form-control-lg\",\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.password = $event),\n    placeholder: \"Enter your password\",\n    ref: \"passwordInput\",\n    required: \"\"\n  }, null, 8 /* PROPS */, _hoisted_11), [[_vModelDynamic, $setup.password]]), _createVNode(_component_font_awesome_icon, {\n    icon: $setup.isPasswordVisible ? 'fa-eye' : 'fa-eye-slash',\n    onClick: _cache[2] || (_cache[2] = $event => $setup.togglePassword()),\n    class: \"toggle-password fa-xs mt-3\",\n    style: {\n      \"font-size\": \"8px\"\n    }\n  }, null, 8 /* PROPS */, [\"icon\"])]), _cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n    class: \"d-grid gap-2\"\n  }, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary btn-lg\"\n  }, \" Login \")], -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)]), _cache[9] || (_cache[9] = _createElementVNode(\"div\", {\n    class: \"card-footer text-center text-muted\"\n  }, [_createElementVNode(\"small\", null, \"Powered By POSExpress\")], -1 /* HOISTED */))])])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","for","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","_hoisted_2","_createCommentVNode","src","alt","style","onClick","_cache","$event","_ctx","logout","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","onSubmit","_withModifiers","args","$setup","login","_hoisted_8","_hoisted_9","_toDisplayString","email","_hoisted_10","type","isPasswordVisible","id","password","placeholder","ref","required","_hoisted_11","_createVNode","_component_font_awesome_icon","icon","togglePassword"],"sources":["C:\\Users\\Administrator\\OneDrive\\Desktop\\POSExpress\\frontend\\src\\components\\LandingPage\\LockScreen.vue"],"sourcesContent":["<template>\r\n\r\n        <div class=\"header\">\r\n            <div class=\"d-flex justify-content-between align-items-center\">\r\n                <!-- Logo / Title -->\r\n                <div class=\"logo\">\r\n                    <img src=\"assets/img/logo.png\" alt=\"POSExpress\" class=\"img-fluid \"\r\n                        style=\"width: 200px; height: 60px;\" />\r\n                </div>\r\n\r\n                <!-- Logout Button -->\r\n                <button class=\"btn btn-primary\" @click=\"logout()\">LOGOUT</button>\r\n            </div>\r\n        </div>\r\n        <div class=\"container mt-5\">\r\n\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-5\">\r\n                    <div class=\"card shadow-lg border-0 rounded\">\r\n                        <div class=\"text-center mt-3\">\r\n                            <img src=\"/img/logo.png\" alt=\"Logo\" class=\"img-fluid \"\r\n                                style=\"width: 400px; height: 100px;\" />\r\n                        </div>\r\n                        <div class=\"card-header text-center  text-white\">\r\n                            <h4 class=\"m-0\">Re-Enter The Password</h4>\r\n                        </div>\r\n                        <div class=\"card-body\">\r\n                            <form @submit.prevent=\"login\">\r\n                                <div class=\"mb-3\">\r\n                                    <h5 for=\"email\" class=\"form-label text-center\">{{ email }}</h5>\r\n                                </div>\r\n                                <div class=\"mb-3 pass-group\">\r\n                                    <label for=\"password\" class=\"form-label\">Password</label>\r\n                                    <input :type=\"isPasswordVisible ? 'text' : 'password'\"\r\n                                        class=\"form-control form-control-lg\" id=\"password\" v-model=\"password\"\r\n                                        placeholder=\"Enter your password\" ref=\"passwordInput\" required />\r\n                                    <font-awesome-icon :icon=\"isPasswordVisible ? 'fa-eye' : 'fa-eye-slash'\"\r\n                                        @click=\"togglePassword()\" class=\"toggle-password fa-xs mt-3\"\r\n                                        style=\"font-size: 8px;\" />\r\n                                </div>\r\n                                <div class=\"d-grid gap-2\">\r\n                                    <button type=\"submit\" class=\"btn btn-primary btn-lg\">\r\n                                        Login\r\n                                    </button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                        <div class=\"card-footer text-center text-muted\">\r\n                            <small>Powered By POSExpress</small>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</template>\r\n\r\n<label>Password</label>\r\n\r\n\r\n<script>\r\nimport { onMounted, ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default {\r\n    setup() {\r\n\r\n        const password = ref(\"\");\r\n        const router = useRouter();\r\n        const isPasswordVisible = ref(false);\r\n        const email = localStorage.getItem(\"emails\");\r\n        const passwordInput = ref(null);\r\n        const togglePassword = () => {\r\n            isPasswordVisible.value = !isPasswordVisible.value;\r\n        }\r\n        const login = async () => {\r\n            try {\r\n                const response = await axios.post(\"http://localhost:5000/api/login\", {\r\n                    email: email,\r\n                    password: password.value,\r\n                });\r\n                localStorage.removeItem(\"token\");\r\n                localStorage.removeItem(\"role\");\r\n                localStorage.removeItem(\"user\");\r\n                localStorage.removeItem(\"id\");\r\n                localStorage.removeItem(\"emails\");\r\n                localStorage.removeItem(\"image\", image);\r\n\r\n                const { token, role, user, id, emails } = response.data;\r\n\r\n                // Store token and role in local storage\r\n                localStorage.setItem(\"token\", token);\r\n                localStorage.setItem(\"role\", role);\r\n                localStorage.setItem(\"user\", user);\r\n                localStorage.setItem(\"id\", id);\r\n                localStorage.setItem(\"emails\", emails);\r\n\r\n                // Show success notification\r\n                Swal.fire({\r\n                    icon: \"success\",\r\n                    title: \"Login Successful\",\r\n                    timer: 1500, // \r\n                    showConfirmButton: false\r\n\r\n                });\r\n\r\n                // Redirect based on role\r\n                if (role === \"Admin\") {\r\n                    router.push(\"/dashboard\");\r\n                } else if (role === \"Cashier\") {\r\n                    router.push(\"/pos\");\r\n                }\r\n            } catch (error) {\r\n                // Show error notification\r\n                Swal.fire({\r\n                    icon: \"error\",\r\n                    title: \"Login Failed\",\r\n                    text: error.response?.data?.message || \"An error occurred during login\",\r\n                    timer: 1500, // \r\n                    showConfirmButton: false\r\n                });\r\n\r\n\r\n            }\r\n        };\r\n        onMounted(() => {\r\n            if (passwordInput.value) {\r\n                passwordInput.value.focus();\r\n            }\r\n        })\r\n\r\n        return {\r\n            email,\r\n            password,\r\n            login,\r\n            togglePassword,\r\n            isPasswordVisible,\r\n            passwordInput\r\n        };\r\n    },\r\n};\r\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}